{"ast":null,"code":"import { ADD_FAVORITES, DELETE_FAVORITE, FILTER, ORDER, FETCH_ALL_FAVORITES } from \"./actions-types\";\nconst initialState = {\n  myFavorites: [],\n  allCharacters: [],\n  filterGender: null\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    // case ADD_FAVORITES:\n    //     const copyCharacters = [...state.allCharacters, action.payload]\n\n    //     return {\n    //         ...state,\n    //         myFavorites: copyCharacters,\n    //         allCharacters: [...copyCharacters]\n    //     }\n    case ADD_FAVORITES:\n      return {\n        ...state,\n        myFavorites: action.payload,\n        allCharacters: action.payload\n      };\n\n    // case DELETE_FAVORITE: \n    //     return {\n    //         ...state,\n    //         myFavorites: state.myFavorites.filter((character)=> character.id !== action.payload )\n    //     }\n    case DELETE_FAVORITE:\n      return {\n        ...state,\n        myFavorites: state.myFavorites.filter(favorite => favorite.id !== action.payload)\n      };\n    case FILTER:\n      const filterCharacter = action.payload === \"All\" ? state.allCharacters : state.allCharacters.filter(character => character.gender === action.payload);\n      return {\n        ...state,\n        myFavorites: filterCharacter,\n        filterGender: action.payload // género filtrado en el estado\n      };\n\n    case ORDER:\n      const characterOrder = state.filterGender === \"All\" ? [...state.allCharacters] : [...state.myFavorites];\n      const sortCharacter = characterOrder.sort((a, b) => {\n        if (action.payload === \"Ascendente\") {\n          if (a.id < b.id) return -1;\n          if (b.id < a.id) return 1; // b viene antes que a\n          return 0;\n        } else {\n          if (a.id < b.id) return 1;\n          if (b.id < a.id) return -1;\n          return 0;\n        }\n      });\n      return {\n        ...state,\n        myFavorites: sortCharacter\n      };\n    case FETCH_ALL_FAVORITES:\n      return {\n        ...state,\n        myFavorites: state.allCharacters,\n        filterGender: null // Reset the filter\n      };\n\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default reducer;","map":{"version":3,"names":["ADD_FAVORITES","DELETE_FAVORITE","FILTER","ORDER","FETCH_ALL_FAVORITES","initialState","myFavorites","allCharacters","filterGender","reducer","state","action","type","payload","filter","favorite","id","filterCharacter","character","gender","characterOrder","sortCharacter","sort","a","b"],"sources":["/Users/Work/GIT/R & M FINAL/rick_and_morty/Client/src/redux/reducer.js"],"sourcesContent":["import { ADD_FAVORITES, DELETE_FAVORITE, FILTER, ORDER, FETCH_ALL_FAVORITES } from \"./actions-types\";\r\n\r\nconst initialState = {\r\n    myFavorites: [],\r\n    allCharacters : [],\r\n    filterGender: null\r\n}\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        // case ADD_FAVORITES:\r\n        //     const copyCharacters = [...state.allCharacters, action.payload]\r\n\r\n        //     return {\r\n        //         ...state,\r\n        //         myFavorites: copyCharacters,\r\n        //         allCharacters: [...copyCharacters]\r\n        //     }\r\n        case ADD_FAVORITES:\r\n        return { \r\n          ...state, \r\n          myFavorites: action.payload, \r\n          allCharacters: action.payload \r\n      }\r\n            \r\n        // case DELETE_FAVORITE: \r\n        //     return {\r\n        //         ...state,\r\n        //         myFavorites: state.myFavorites.filter((character)=> character.id !== action.payload )\r\n        //     }\r\n        case DELETE_FAVORITE:\r\n    return {\r\n        ...state,\r\n        myFavorites: state.myFavorites.filter(favorite => favorite.id !== action.payload)\r\n    }\r\n\r\n        case FILTER:\r\n            const filterCharacter = action.payload === \"All\" ? \r\n                state.allCharacters : \r\n                state.allCharacters.filter((character) => character.gender === action.payload)\r\n\r\n            return {\r\n              ...state,\r\n              myFavorites: filterCharacter,\r\n              filterGender: action.payload // género filtrado en el estado\r\n            };\r\n      \r\n          case ORDER:\r\n            const characterOrder = state.filterGender === \"All\" ? \r\n                [...state.allCharacters] : \r\n                [...state.myFavorites]\r\n            \r\n\r\n            const sortCharacter = characterOrder.sort((a, b) => {\r\n              if (action.payload === \"Ascendente\") {\r\n                if (a.id < b.id) return -1\r\n                if (b.id < a.id) return 1 // b viene antes que a\r\n                return 0\r\n\r\n              } \r\n              else {\r\n                if (a.id < b.id) return 1\r\n                if (b.id < a.id) return -1\r\n                return 0\r\n              }\r\n            });\r\n\r\n            \r\n      \r\n            return {\r\n              ...state,\r\n              myFavorites: sortCharacter, \r\n            };\r\n\r\n            case FETCH_ALL_FAVORITES:\r\n              return {\r\n                  ...state,\r\n                  myFavorites: state.allCharacters,\r\n                  filterGender: null // Reset the filter\r\n              };\r\n  \r\n  \r\n\r\n    \r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\nexport default reducer"],"mappings":"AAAA,SAASA,aAAa,EAAEC,eAAe,EAAEC,MAAM,EAAEC,KAAK,EAAEC,mBAAmB,QAAQ,iBAAiB;AAEpG,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAE,EAAE;EACfC,aAAa,EAAG,EAAE;EAClBC,YAAY,EAAE;AAClB,CAAC;AAGD,MAAMC,OAAO,GAAGA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAM,KAAK;EAC9C,QAAQA,MAAM,CAACC,IAAI;IACf;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA,KAAKZ,aAAa;MAClB,OAAO;QACL,GAAGU,KAAK;QACRJ,WAAW,EAAEK,MAAM,CAACE,OAAO;QAC3BN,aAAa,EAAEI,MAAM,CAACE;MAC1B,CAAC;;IAEC;IACA;IACA;IACA;IACA;IACA,KAAKZ,eAAe;MACxB,OAAO;QACH,GAAGS,KAAK;QACRJ,WAAW,EAAEI,KAAK,CAACJ,WAAW,CAACQ,MAAM,CAACC,QAAQ,IAAIA,QAAQ,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO;MACpF,CAAC;IAEG,KAAKX,MAAM;MACP,MAAMe,eAAe,GAAGN,MAAM,CAACE,OAAO,KAAK,KAAK,GAC5CH,KAAK,CAACH,aAAa,GACnBG,KAAK,CAACH,aAAa,CAACO,MAAM,CAAEI,SAAS,IAAKA,SAAS,CAACC,MAAM,KAAKR,MAAM,CAACE,OAAO,CAAC;MAElF,OAAO;QACL,GAAGH,KAAK;QACRJ,WAAW,EAAEW,eAAe;QAC5BT,YAAY,EAAEG,MAAM,CAACE,OAAO,CAAC;MAC/B,CAAC;;IAEH,KAAKV,KAAK;MACR,MAAMiB,cAAc,GAAGV,KAAK,CAACF,YAAY,KAAK,KAAK,GAC/C,CAAC,GAAGE,KAAK,CAACH,aAAa,CAAC,GACxB,CAAC,GAAGG,KAAK,CAACJ,WAAW,CAAC;MAG1B,MAAMe,aAAa,GAAGD,cAAc,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAClD,IAAIb,MAAM,CAACE,OAAO,KAAK,YAAY,EAAE;UACnC,IAAIU,CAAC,CAACP,EAAE,GAAGQ,CAAC,CAACR,EAAE,EAAE,OAAO,CAAC,CAAC;UAC1B,IAAIQ,CAAC,CAACR,EAAE,GAAGO,CAAC,CAACP,EAAE,EAAE,OAAO,CAAC,EAAC;UAC1B,OAAO,CAAC;QAEV,CAAC,MACI;UACH,IAAIO,CAAC,CAACP,EAAE,GAAGQ,CAAC,CAACR,EAAE,EAAE,OAAO,CAAC;UACzB,IAAIQ,CAAC,CAACR,EAAE,GAAGO,CAAC,CAACP,EAAE,EAAE,OAAO,CAAC,CAAC;UAC1B,OAAO,CAAC;QACV;MACF,CAAC,CAAC;MAIF,OAAO;QACL,GAAGN,KAAK;QACRJ,WAAW,EAAEe;MACf,CAAC;IAED,KAAKjB,mBAAmB;MACtB,OAAO;QACH,GAAGM,KAAK;QACRJ,WAAW,EAAEI,KAAK,CAACH,aAAa;QAChCC,YAAY,EAAE,IAAI,CAAC;MACvB,CAAC;;IAKP;MACI,OAAO;QACH,GAAGE;MACP,CAAC;EACT;AACJ,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}